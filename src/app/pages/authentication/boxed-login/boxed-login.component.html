<div class="blank-layout-container justify-content-center align-items-center">
  <div class="position-relative row w-100 h-100 bg-gradient justify-content-center">
    <div class="col-lg-4 d-flex align-items-center">
      <mat-card class="cardWithShadow boxed-auth" style="background-color:white">
        <mat-card-content class="p-32">
          <div class="text-center">
            @if(options.theme === 'light') {
            <a [routerLink]="['/dashboards/dashboard1']">
              <img src="./assets/images/logos/logo.png" class="align-middle m-2" alt="logo" />
            </a>
            } @if(options.theme === 'dark') {
            <a [routerLink]="['/dashboards/dashboard1']">
              <img src="./assets/images/logos/light-logo.svg" class="align-middle m-2" alt="logo" />
            </a>
            }
          </div>

          <div class="or-border m-t-30">Inicia sesión con</div>

          <form class="m-t-30" [formGroup]="form" (ngSubmit)="submit()">
            <!-- Username Field -->
            <mat-label class="mat-subtitle-2 f-s-14 f-w-600 m-b-12 d-block">Usuario</mat-label>
            <mat-form-field appearance="outline" class="w-100" color="primary">
              <mat-icon matPrefix class="mr-2">person</mat-icon>
              <input matInput formControlName="user" />
              @if(f['user'].touched && f['user'].invalid) {
              <mat-hint class="m-b-16 error-msg">
                @if(f['user'].errors && f['user'].errors['required']) {
                <div class="text-error">El usuario es requerido.</div>
                } @if(f['user'].errors && f['user'].errors['minlength']) {
                <div class="text-error">El usuario debe pasar de los 6 caracteres.</div>
                }
              </mat-hint>
              }
            </mat-form-field>

            <!-- Password Field -->
            <mat-label class="mat-subtitle-2 f-s-14 f-w-600 m-b-12 d-block">Contraseña</mat-label>
            <mat-form-field appearance="outline" class="w-100" color="primary">
              <mat-icon matPrefix class="mr-2">lock</mat-icon>
              <input matInput type="password" formControlName="password" />
              @if(f['password'].touched && f['password'].invalid) {
              <mat-hint class="m-b-16 error-msg">
                @if(f['password'].errors && f['password'].errors['required']) {
                <div class="text-error">La contraseña es requerida.</div>
                }
              </mat-hint>
              }
            </mat-form-field>

            <!-- Login Button -->
            <button mat-flat-button color="primary" class="w-100" [disabled]="!form.valid || loading">
              <span *ngIf="!loading">Iniciar Sesión</span>
              <span *ngIf="loading" class="button-content">
                <mat-spinner diameter="20" strokeWidth="2" class="button-spinner"></mat-spinner>
              </span>
            </button>

            <!-- Forgot Password Link -->
            <div class="text-left f-w-500 m-t-16">
              <a [routerLink]="['/authentication/forgot-password']" class="text-decoration-none text-primary f-s-14">
                ¿Olvidaste tu contraseña?
              </a>
            </div>

            <!-- Register Link -->
            <span class="d-block f-w-500 text-left m-t-16">
              ¿No tienes usuario?
              <a [routerLink]="['/authentication/boxed-register']" class="text-decoration-none text-primary f-s-14">
                Acceder a formulario externo
              </a>
            </span>
          </form>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>
<style>
  /* Fix Input Field Alignment */
.mat-form-field-appearance-outline .mat-form-field-infix {
  padding: 0.5em 0; /* Adjust padding to center text vertically */
}

.mat-form-field-appearance-outline .mat-form-field-flex {
  align-items: center; /* Ensure the prefix icon and input are aligned */
}

/* Button Spinner Alignment */
.button-content {
  display: flex;
  align-items: center;
  justify-content: center;
}

.button-spinner {
  margin-right: 8px;
}

/* Forgot Password and Register Link Alignment */
.text-left {
  text-align: left;
}

/* Responsive Design */
@media (max-width: 768px) {
  .col-lg-4 {
    max-width: 100%;
    flex: 0 0 100%;
  }
}
</style>