"use strict";(self.webpackChunkModernize=self.webpackChunkModernize||[]).push([[491],{8491:(O,F,s)=>{s.d(F,{s:()=>z});var p=s(177),c=s(9159),C=s(6695),r=s(4006),u=s(8834),t=s(3953);let R=(()=>{class a{constructor(){}static{this.\u0275fac=function(n){return new(n||a)}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-adduser"]],standalone:!0,features:[t.aNF],decls:8,vars:0,consts:[[1,"p-x-24"],[1,"f-w-500"],[1,"p-x-24","p-b-24"],["mat-flat-button","","color","primary","mat-dialog-close",""]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"p",1),t.EFF(2,"Employee Successfully Added."),t.k0s(),t.j41(3,"p"),t.EFF(4,"You can find your employee at last of table."),t.k0s()(),t.j41(5,"mat-dialog-actions",2)(6,"button",3),t.EFF(7,"Ok"),t.k0s()())},dependencies:[r.hM,r.tx,r.E7,u.Hl,u.$z],encapsulation:2})}}return a})();var d=s(9417),_=s(9164),v=s(4912),b=s(6600);let T=(()=>{class a{constructor(e,n){this.dialogRef=e,this.data=n}confirm(){this.dialogRef.close("confirm")}cancel(){this.dialogRef.close("cancel")}static{this.\u0275fac=function(n){return new(n||a)(t.rXU(r.CP),t.rXU(r.Vh))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-confirmation-dialog"]],standalone:!0,features:[t.aNF],decls:10,vars:2,consts:[["mat-dialog-title",""],[1,"p-x-24","p-b-24",2,"display","flex","justify-content","flex-end"],["mat-flat-button","","color","warn",3,"click"],["mat-stroked-button","","color","primary",3,"click"]],template:function(n,i){1&n&&(t.j41(0,"h2",0),t.EFF(1),t.k0s(),t.j41(2,"mat-dialog-content")(3,"p"),t.EFF(4),t.k0s()(),t.j41(5,"mat-dialog-actions",1)(6,"button",2),t.bIt("click",function(){return i.confirm()}),t.EFF(7,"S\xed, estoy seguro"),t.k0s(),t.j41(8,"button",3),t.bIt("click",function(){return i.cancel()}),t.EFF(9,"Cancelar"),t.k0s()()),2&n&&(t.R7$(),t.JRh(i.data.action),t.R7$(3),t.SpI("\xbfEst\xe1 seguro de ","Solicitud desactivacion de usuario"===i.data.action?"desactivar":"activar"," este usuario?"))},dependencies:[r.hM,r.BI,r.E7,r.Yi,u.Hl,u.$z],encapsulation:2})}}return a})();var y=s(8887),g=s(3719),D=s(9631),h=s(5596),A=s(9213),k=s(2798);const j=()=>[5,10,20];function E(a,l){1&a&&(t.j41(0,"th",24),t.EFF(1,"DUI/NIT"),t.k0s())}function U(a,l){if(1&a&&(t.j41(0,"td",25),t.EFF(1),t.k0s()),2&a){const e=l.$implicit;t.R7$(),t.JRh(e.duiNit)}}function I(a,l){1&a&&(t.j41(0,"th",24),t.EFF(1,"Correo"),t.k0s())}function N(a,l){if(1&a&&(t.j41(0,"td",25),t.EFF(1),t.k0s()),2&a){const e=l.$implicit;t.R7$(),t.JRh(e.correo)}}function S(a,l){1&a&&(t.j41(0,"th",26),t.EFF(1,"Estado de cuenta"),t.k0s())}function w(a,l){if(1&a&&(t.j41(0,"span",29),t.EFF(1),t.k0s()),2&a){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",e.estadoCuenta," ")}}function x(a,l){if(1&a&&(t.j41(0,"span",30),t.EFF(1),t.k0s()),2&a){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",e.estadoCuenta," ")}}function G(a,l){if(1&a&&(t.j41(0,"td",25),t.DNE(1,w,2,1,"span",27)(2,x,2,1,"span",28),t.k0s()),2&a){const e=l.$implicit;t.R7$(),t.Y8G("ngIf","Activa"===e.estadoCuenta),t.R7$(),t.Y8G("ngIf","Inactiva"===e.estadoCuenta)}}function $(a,l){1&a&&(t.j41(0,"th",24),t.EFF(1,"Accion"),t.k0s())}function M(a,l){if(1&a){const e=t.RV6();t.j41(0,"a",33),t.bIt("click",function(){t.eBV(e);const i=t.XpG().$implicit,o=t.XpG();return t.Njj(o.openConfirmationDialog("Solicitud desactivacion de usuario",i))}),t.nrm(1,"i-tabler",34),t.k0s()}}function V(a,l){if(1&a){const e=t.RV6();t.j41(0,"a",33),t.bIt("click",function(){t.eBV(e);const i=t.XpG().$implicit,o=t.XpG();return t.Njj(o.openConfirmationDialog("Solicitud activacion de usuario",i))}),t.nrm(1,"i-tabler",35),t.k0s()}}function Y(a,l){if(1&a&&(t.j41(0,"td",31),t.DNE(1,M,2,0,"a",32)(2,V,2,0,"a",32),t.k0s()),2&a){const e=l.$implicit;t.R7$(),t.Y8G("ngIf","Activa"===e.estadoCuenta),t.R7$(),t.Y8G("ngIf","Inactiva"===e.estadoCuenta)}}function B(a,l){1&a&&t.nrm(0,"tr",36)}function X(a,l){1&a&&t.nrm(0,"tr",37)}function J(a,l){if(1&a){const e=t.RV6();t.j41(0,"div",16)(1,"div",17)(2,"mat-form-field",5)(3,"input",24),t.mxI("ngModelChange",function(i){t.eBV(e);const o=t.XpG();return t.DH7(o.local_data.attachment,i)||(o.local_data.attachment=i),t.Njj(i)}),t.k0s()(),t.j41(4,"small",25),t.EFF(5,"* Attach file to justify this request."),t.k0s()()()}if(2&a){const e=t.XpG();t.R7$(3),t.R50("ngModel",e.local_data.attachment)}}const P=[{duiNit:"12345678-9",nombre:"Johnathan",apellido:"Deo",correo:"johnathan.deo@gmail.com",tipoCuenta:"AFPA",estadoCuenta:"Activa"},{duiNit:"98765432-1",nombre:"Mark",apellido:"Zukerburg",correo:"mark.zukerburg@gmail.com",tipoCuenta:"AFPA",estadoCuenta:"Inactiva"},{duiNit:"45678912-3",nombre:"Sam",apellido:"Smith",correo:"sam.smith@gmail.com",tipoCuenta:"AFPA",estadoCuenta:"Activa"},{duiNit:"78912345-6",nombre:"John",apellido:"Deo",correo:"john.deo@gmail.com",tipoCuenta:"AFPA",estadoCuenta:"Inactiva"}];let z=(()=>{class a{constructor(e,n,i){this.dialog=e,this.datePipe=n,this.router=i,this.table=Object.create(null),this.paginator=Object.create(null),this.displayedColumns=["duiNit","correo","estadoCuenta","action"],this.isFirstRequest=!1,this.dataSource=new c.I6(P)}ngAfterViewInit(){this.dataSource.paginator=this.paginator}applyFilter(e){this.dataSource.filter=e.trim().toLowerCase()}openDialog(e,n){n.action=e,this.dialog.open(H,{data:n}).afterClosed().subscribe(o=>{"Add"===o.event?this.addRowData(o.data):"Update"===o.event?this.updateRowData(o.data):"Delete"===o.event&&this.deleteRowData(o.data)})}openConfirmationDialog(e,n){this.dialog.open(T,{data:{action:e,obj:n}}).afterClosed().subscribe(o=>{"confirm"===o&&("Solicitud desactivacion de usuario"===e?this.updateRowData({...n,estadoCuenta:"Inactiva"}):"Solicitud activacion de usuario"===e&&this.updateRowData({...n,estadoCuenta:"Activa"}))})}addRowData(e){this.dataSource.data.unshift({duiNit:e.duiNit,nombre:e.nombre,apellido:e.apellido,correo:e.correo,tipoCuenta:e.tipoCuenta,estadoCuenta:e.estadoCuenta}),this.dialog.open(R),this.table.renderRows()}updateRowData(e){this.dataSource.data=this.dataSource.data.map(n=>(n.duiNit===e.duiNit&&(n.nombre=e.nombre,n.apellido=e.apellido,n.correo=e.correo,n.tipoCuenta=e.tipoCuenta,n.estadoCuenta=e.estadoCuenta),n))}deleteRowData(e){this.dataSource.data=this.dataSource.data.filter(n=>n.duiNit!==e.duiNit)}redirectToSolicitudNuevoAfpa(){this.router.navigate(["/dashboards/solicitudes-interno"])}static{this.\u0275fac=function(n){return new(n||a)(t.rXU(r.bZ),t.rXU(p.vh),t.rXU(y.Ix))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-users-table"]],viewQuery:function(n,i){if(1&n&&(t.GBs(c.Zl,7),t.GBs(C.iy,7)),2&n){let o;t.mGM(o=t.lsd())&&(i.table=o.first),t.mGM(o=t.lsd())&&(i.paginator=o.first)}},standalone:!0,features:[t.Jv_([p.vh]),t.aNF],decls:30,vars:5,consts:[[1,"cardWithShadow"],[1,"d-flex","justify-content-between","align-items-center","p-24"],[1,"title"],[1,"d-flex","align-items-center"],["appearance","outline",1,"w-100","hide-hint","mr-4"],["matInput","","placeholder","Buscar usuario",3,"keyup"],["matSuffix",""],["name","search",1,"icon-20"],[1,"col-lg-4","d-flex","align-items-center","justify-content-end"],["mat-flat-button","","color","primary",3,"click"],[1,"p-24"],[1,"table-responsive"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","duiNit"],["mat-header-cell","","class","f-s-16 f-w-600 text-center",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","correo"],["matColumnDef","estadoCuenta"],["mat-header-cell","","class","f-s-16 f-w-600",4,"matHeaderCellDef"],["matColumnDef","action"],["mat-cell","","class","action-link text-center",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","",1,"f-s-16","f-w-600","text-center"],["mat-cell","",1,"text-center"],["mat-header-cell","",1,"f-s-16","f-w-600"],["class","bg-light-accent text-accent rounded f-w-600 p-6 p-y-4 f-s-12",4,"ngIf"],["class","bg-light-error text-error rounded f-w-600 p-6 p-y-4 f-s-12",4,"ngIf"],[1,"bg-light-accent","text-accent","rounded","f-w-600","p-6","p-y-4","f-s-12"],[1,"bg-light-error","text-error","rounded","f-w-600","p-6","p-y-4","f-s-12"],["mat-cell","",1,"action-link","text-center"],["class","m-r-10 cursor-pointer",3,"click",4,"ngIf"],[1,"m-r-10","cursor-pointer",3,"click"],["name","x",1,"icon-18"],["name","check",1,"icon-18"],["mat-header-row",""],["mat-row",""]],template:function(n,i){1&n&&(t.j41(0,"mat-card",0)(1,"mat-card-header",1)(2,"mat-card-title",2),t.EFF(3,"Usuarios digitadores"),t.k0s(),t.j41(4,"div",3)(5,"mat-form-field",4)(6,"input",5),t.bIt("keyup",function(f){return i.applyFilter(f.target.value)}),t.k0s(),t.j41(7,"mat-icon",6),t.nrm(8,"i-tabler",7),t.k0s()()(),t.j41(9,"div",8)(10,"button",9),t.bIt("click",function(){return i.redirectToSolicitudNuevoAfpa()}),t.EFF(11," Nueva solicitud "),t.k0s()()(),t.j41(12,"mat-card-content",10)(13,"div",11)(14,"table",12),t.qex(15,13),t.DNE(16,E,2,0,"th",14)(17,U,2,1,"td",15),t.bVm(),t.qex(18,16),t.DNE(19,I,2,0,"th",14)(20,N,2,1,"td",15),t.bVm(),t.qex(21,17),t.DNE(22,S,2,0,"th",18)(23,G,3,2,"td",15),t.bVm(),t.qex(24,19),t.DNE(25,$,2,0,"th",14)(26,Y,3,2,"td",20),t.bVm(),t.DNE(27,B,1,0,"tr",21)(28,X,1,0,"tr",22),t.k0s(),t.nrm(29,"mat-paginator",23),t.k0s()()()),2&n&&(t.R7$(14),t.Y8G("dataSource",i.dataSource),t.R7$(13),t.Y8G("matHeaderRowDef",i.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",i.displayedColumns),t.R7$(),t.Y8G("pageSizeOptions",t.lJ4(4,j)))},dependencies:[p.MD,p.bT,_.G,g.rl,g.yw,D.fg,h.RN,h.m2,h.MM,h.dh,u.$z,A.An,C.iy,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.KS,c.$R,c.YZ,c.NB,d.YN,d.X1,v.X4,v.Jc,b.WX],encapsulation:2})}}return a})(),H=(()=>{class a{constructor(e,n,i){this.datePipe=e,this.dialogRef=n,this.data=i,this.selectedImage="",this.joiningDate="",this.generatedUser="",this.userType="",this.afpaData={nombre:"AFPA Example",direccion:"123 Example Street",telefono:"555-1234",correo:"example@afpa.com"},this.isFirstRequest=!0,this.local_data={...i},this.action=this.local_data.action,void 0!==this.local_data.DateOfJoining&&(this.joiningDate=this.datePipe.transform(new Date(this.local_data.DateOfJoining),"yyyy-MM-dd")),void 0===this.local_data.imagePath&&(this.local_data.imagePath="assets/images/profile/user-1.jpg")}doAction(){this.dialogRef.close({event:this.action,data:this.local_data})}closeDialog(){this.dialogRef.close({event:"Cancel"})}selectFile(e){if(!e.target.files[0]||0===e.target.files[0].length||null==e.target.files[0].type.match(/image\/*/))return;const i=new FileReader;i.readAsDataURL(e.target.files[0]),i.onload=o=>{this.local_data.imagePath=i.result}}generateUser(){"digitador"===this.userType?this.generatedUser="DIG-"+this.local_data.duiNit:"webservice"===this.userType&&(this.generatedUser="WEB-"+this.local_data.duiNit)}saveAsDraft(){}sendRequest(){}static{this.\u0275fac=function(n){return new(n||a)(t.rXU(p.vh),t.rXU(r.CP),t.rXU(r.Vh,8))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-dialog-content"]],standalone:!0,features:[t.Jv_([p.vh]),t.aNF],decls:41,vars:10,consts:[["userForm","ngForm"],["mat-dialog-title","",1,"f-w-500","m-b-24"],[2,"max-width","600px"],[1,"row","m-b-16"],[1,"col-lg-6"],["appearance","outline",1,"w-100"],["name","userType",3,"ngModelChange","selectionChange","ngModel"],["value","digitador"],["value","webservice"],["type","text","matInput","","name","generatedUser","placeholder","Generated User","readonly","",3,"value"],[1,"row"],["appearance","outline","color","primary",1,"w-100"],["matInput","","disabled","","placeholder","Nombre",3,"value"],["matInput","","disabled","","placeholder","Direcci\xf3n",3,"value"],["matInput","","disabled","","placeholder","Tel\xe9fono",3,"value"],["matInput","","disabled","","placeholder","Correo Electr\xf3nico",3,"value"],[1,"row","m-t-16"],[1,"col-lg-12"],["matInput","","required","","name","requestReason","placeholder","Justificacion",3,"ngModelChange","ngModel"],["class","row m-t-16",4,"ngIf"],[1,"row","m-t-24"],[1,"col-lg-12","d-flex","justify-content-end"],["mat-flat-button","","color","primary",1,"m-r-8",3,"click"],["mat-flat-button","","color","accent",3,"click","disabled"],["type","file","matInput","","name","attachment",3,"ngModelChange","ngModel"],[1,"text-muted"]],template:function(n,i){if(1&n){const o=t.RV6();t.j41(0,"h2",1)(1,"strong"),t.EFF(2),t.k0s()(),t.j41(3,"mat-dialog-content",2)(4,"form",null,0)(6,"div",3)(7,"div",4)(8,"mat-form-field",5)(9,"mat-select",6),t.mxI("ngModelChange",function(m){return t.eBV(o),t.DH7(i.userType,m)||(i.userType=m),t.Njj(m)}),t.bIt("selectionChange",function(){return t.eBV(o),t.Njj(i.generateUser())}),t.j41(10,"mat-option",7),t.EFF(11,"Usuario Digitador"),t.k0s(),t.j41(12,"mat-option",8),t.EFF(13,"Usuario Webservice"),t.k0s()()()(),t.j41(14,"div",4)(15,"mat-form-field",5),t.nrm(16,"input",9),t.k0s()()(),t.j41(17,"div",10)(18,"div",4)(19,"mat-form-field",11),t.nrm(20,"input",12),t.k0s()(),t.j41(21,"div",4)(22,"mat-form-field",11),t.nrm(23,"input",13),t.k0s()(),t.j41(24,"div",4)(25,"mat-form-field",11),t.nrm(26,"input",14),t.k0s()(),t.j41(27,"div",4)(28,"mat-form-field",11),t.nrm(29,"input",15),t.k0s()()(),t.j41(30,"div",16)(31,"div",17)(32,"mat-form-field",5)(33,"textarea",18),t.mxI("ngModelChange",function(m){return t.eBV(o),t.DH7(i.local_data.requestReason,m)||(i.local_data.requestReason=m),t.Njj(m)}),t.k0s()()()(),t.DNE(34,J,6,1,"div",19),t.j41(35,"div",20)(36,"div",21)(37,"button",22),t.bIt("click",function(){return t.eBV(o),t.Njj(i.saveAsDraft())}),t.EFF(38," Guardar "),t.k0s(),t.j41(39,"button",23),t.bIt("click",function(){return t.eBV(o),t.Njj(i.sendRequest())}),t.EFF(40," Enviar solicitud "),t.k0s()()()()()}if(2&n){const o=t.sdS(5);t.R7$(2),t.JRh(i.action),t.R7$(7),t.R50("ngModel",i.userType),t.R7$(7),t.Y8G("value",i.generatedUser),t.R7$(4),t.Y8G("value",i.afpaData.nombre),t.R7$(3),t.Y8G("value",i.afpaData.direccion),t.R7$(3),t.Y8G("value",i.afpaData.telefono),t.R7$(3),t.Y8G("value",i.afpaData.correo),t.R7$(4),t.R50("ngModel",i.local_data.requestReason),t.R7$(),t.Y8G("ngIf",!i.isFirstRequest),t.R7$(5),t.Y8G("disabled",!o.valid)}},dependencies:[p.MD,p.bT,_.G,b.wT,g.rl,D.fg,k.VO,u.$z,r.BI,r.Yi,d.YN,d.qT,d.me,d.BC,d.cb,d.YS,d.vS,d.cV,d.X1],encapsulation:2})}}return a})()}}]);